<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/css/style.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.5-b/css/style.min.css">
    <link rel="stylesheet" href="./css/main.css">
</head>

<body class="page" style="margin: 1rem">
    <section class="columns is-centered is-flex column">
        <div id="axis-labels"
            style="position: absolute; top: 100px; right: 10px; padding: 10px; border-radius: 5px; color: white;">
            <div><span style="color: rgb(236, 236, 240);">Axis-labels:</span></div>
            <div><span style="color: red;">X-axis</span></div>
            <div><span style="color: yellow;">Y-axis</span></div>
            <div><span style="color: blue;">Z-axis</span></div>
        </div>


        <div class="v-collapsible-instruction-container">
            <div class="v-collapsible" id="toggle-instructions"
                style="cursor: pointer; background: #f1f1f1; padding: 10px; border-radius: 5px;">
                <strong>Instructions</strong>
            </div>
            <div id="procedure-message" class="v-content"
                style="display: none; background: #f9f9f9; padding: 15px 15px 15px 30px; border-radius: 5px;">
                <ol>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Mouse Controls</strong>:
                        <ul style="list-style-type: disc;padding-left: 20px;">
                            <li><strong>Left Mouse</strong>: Used for translating (shifting) the entire simulation by
                                left-clicking and dragging
                                the cursor.</li>
                            <li><strong>Right Mouse</strong>: Used for rotating the simulation by right-clicking and
                                dragging the cursor.</li>
                            <li><strong>Middle Mouse</strong>: Used for zooming in and out of the simulation by
                                scrolling.</li>
                        </ul>

                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Lock Options</strong>:
                        <ul style="list-style-type: disc;padding-left: 20px;">
                            <li><strong>Lock Graph</strong>: Disables the translation (shifting) of the simulation when
                                enabled.
                            </li>
                            <li><strong>Lock Zoom</strong>: Prevents zooming functionality when enabled, disabling the
                                middle
                                mouse button.</li>
                            <li><strong>Lock Rotate</strong>: Disables the rotation of the simulation when enabled,
                                disabling
                                the right mouse button.</li>
                        </ul>
                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Shape Controls</strong>:
                        <ul style="list-style-type: disc;padding-left: 20px;">
                            <li>Click the <strong style="color: #3298dc;font-size: 18px;">Add</strong> button to open a
                                modal where you can select a shape type and
                                specify the coordinates for positioning.
                                <ul style="list-style-type: disc;padding-left: 20px;">
                                    <li>
                                        <strong>Note</strong>: Do not create any two shapes with the same coordinates.
                                    </li>

                                </ul>
                            </li>
                            <li>Click the <strong style="color: #970473;font-size: 18px;">Select</strong> button to
                                choose a shape, which will highlight it with a
                                spherical outline in the scene for easy identification.</li>
                            <ul style="list-style-type: disc;padding-left: 20px;">

                                <li>After selecting, click the <strong
                                        style="color: #48c774; font-size: 18px;">Edit</strong> button to modify the
                                    shape's properties or position.</li>
                                <li> After selecting, click the <strong
                                        style="color: #f14668;font-size: 18px;">Delete</strong> button to remove the
                                    shape
                                    from the scene.</li>

                            </ul>
                        </ul>
                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Grid Options</strong>: Check the corresponding checkboxes to
                        display the
                        <strong>XY-grid</strong>, <strong>YZ-grid</strong>, and <strong>XZ-grid</strong>, and uncheck
                        them to
                        remove them from view.
                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Frames</strong>: Set the number of frames to control how
                        smoothly the object moves from one
                        point to another.
                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Slider</strong>: Adjusts the translation scale, moving objects
                        by updating their positions and
                        transformation matrix based on its value.
                    </li>
                    <li class="instr-font">
                        <strong style="font-size: 19px;">Translation Vector</strong>: Defines how much to move the shape
                        along the <strong>X</strong>,
                        <strong>Y</strong>, and <strong>Z</strong> axes in 3D space.
                    </li>
                </ol>
            </div>
        </div>



        <script>
            // Select relevant elements
            const toggleInstructions = document.getElementById("toggle-instructions");
            const procedureMessage = document.getElementById("procedure-message");
            const axisLabels = document.getElementById("axis-labels");
            const sliderContainer = document.querySelector(".slider-container"); // Target slider container

            // Add click event to toggle instructions and adjust axis-labels and slider position
            toggleInstructions.addEventListener("click", () => {
                // Determine visibility of instructions using computed style
                const isVisible = window.getComputedStyle(procedureMessage).display === "block";
                procedureMessage.style.display = isVisible ? "none" : "block";

                // Adjust the axis-labels top position
                axisLabels.style.top = isVisible ? "100px" : "600px"; // Adjust based on desired shift

                // Adjust the slider container position
                // sliderContainer.style.top = isVisible ? "875px" : "50px"; // Adjust based on desired shift
            });
        </script>




    </section>

    <main class="columns is-centered is-variable is-1-mobile is-flex is-flex-wrap-wrap workspace">
        <aside id="left" class="column has-text-centered is-2-desktop is-5-tablet is-5-mobile apparatus">
            <div class="v-datalist-container">
                <div class="v-datalist-row">
                    <div class="v-datalist-title">Display Settings</div>

                    <div id="checkboxes">
                        <label class="v-checkbox">
                            <input type="checkbox" id="lock-vertices-cb">
                            <span class="smol-font"> Lock Graph </span>
                        </label>

                        <label class="v-checkbox">
                            <input type="checkbox" id="xy-grid-cb">
                            <span class="smol-font">XY-Grid </span>
                        </label>

                        <label class="v-checkbox">
                            <input type="checkbox" id="lock-zoom-cb">
                            <span class="smol-font"> Lock Zoom </span>
                        </label>

                        <label class="v-checkbox">
                            <input type="checkbox" id="yz-grid-cb">
                            <span class="smol-font">YZ-Grid </span>
                        </label>

                        <label class="v-checkbox">
                            <input type="checkbox" id="lock-rotate-cb">
                            <span class="smol-font"> Lock Rotate </span>
                        </label>

                        <label class="v-checkbox">
                            <input type="checkbox" id="xz-grid-cb">
                            <span class="smol-font">XZ-Grid </span>
                        </label>
                    </div>

                </div>

                <div class="v-datalist-row" id="top-border">
                    <div class="v-datalist-title">Shape Controls</div>
                    <p>
                        <button id="add-shape-btn" style="margin:0.25rem;" class="v-button"
                            onclick="addShape()">Add</button>
                        <button id="edit-shape-btn" style="margin:0.25rem;"
                            class="v-button is-small is-responsive  is-success" onclick="editShape()">Edit</button>
                        <button id="delete-shape-btn" style="margin:0.25rem;"
                            class="v-button is-small is-responsive  is-danger" onclick="deleteShape()">Delete</button>

                    <section id="edit-modal" class="modal is-responsive">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p class="v-datalist-title"> Edit Shape Menu</p>
                            <div class="select" style="display: inline-block; margin: 0.5rem">
                                <select name="" id="shape-edit-dropdown" value="dropdown">
                                    <option value="Cube">Cube</option>
                                    <option value="Tetrahedron">Tetrahedron</option>
                                    <option value="Octahedron">Octahedron</option>
                                    <option value="Dodecahedron">Dodecahedron</option>
                                </select>
                            </div>

                            <div style="display: block; margin: auto">
                                <input class="input coord-dim" id="x" type="number" placeholder="X" step=".01"
                                    value="0">
                                <input class="input coord-dim" id="y" type="number" placeholder="Y" step=".01"
                                    value="0">
                                <input class="input coord-dim" id="z" type="number" placeholder="Z" step=".01"
                                    value="0">
                            </div>
                            <div class="control">
                                <button class="v-button edit-button" id="modalBox_addsubmit"
                                    style="width: 10rem; margin: 1rem;">Edit</button>
                            </div>
                        </div>

                    </section>

                    <section id="add-modal" class="modal is-responsive is-centered">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p class="v-datalist-title"> Add Shape Menu</p>
                            <div class="select" style="display: inline-block; margin: 0.5rem">
                                <select name="" id="shape-add-dropdown" value="dropdown">
                                    <option value="Cube">Cube</option>
                                    <option value="Tetrahedron">Tetrahedron</option>
                                    <option value="Octahedron">Octahedron</option>
                                    <option value="Dodecahedron">Dodecahedron</option>
                                </select>
                            </div>

                            <div style="display: block; margin: auto">
                                <input class="input coord-dim" id="x1" type="number" placeholder="X" step=".01"
                                    value="0">
                                <input class="input coord-dim" id="y1" type="number" placeholder="Y" step=".01"
                                    value="0">
                                <input class="input coord-dim" id="z1" type="number" placeholder="Z" step=".01"
                                    value="0">
                            </div>
                            <div class="control">
                                <button class="v-button add-button" id="modalBox_addsubmit"
                                    style="margin: 1rem;">Add!</button>
                            </div>
                        </div>

                    </section>

                    </p>
                </div>

                <!--                 
                <div class="v-datalist-row" id="top-border">
                    <div class="v-datalist-title">Point Co-ordinates</div>

                    <div style="display: flexbox;" class="field-div">
                        X:
                        <input class="input is-responsive is-small" style="width:20%" type="number" id="quantityx"
                            value="3" placeholder="X"> Y:
                        <input class="input is-responsive is-small" style="width:20%" type="number" id="quantityy"
                            value="4" placeholder="Y"> Z:
                        <input class="input is-responsive is-small" style="width:20%" type="number" id="quantityz"
                            value="-2" placeholder="Z">
                    </div>
                    <input class="v-button" style="margin: 1rem;" id="move-button" type="submit" value="Move">
                </div> -->

                <div class="v-datalist-title-shapes">Shapes</div>
                <div id="shape-list" class="shape-list-container">
                    <!-- Shapes will be dynamically added here -->
                </div>

            </div>
        </aside>



        <aside class="column is-8-desktop is-10-tablet is-10-mobile exp">
            <div class="v-canvas-container" id="canvas-main">

            </div>
        </aside>

        <aside id="observations" class="column has-text-centered is-2-desktop is-5-tablet is-5-mobile right">
            <div class="v-datalist-container">


                <div class="v-datalist-title" style="font-size: 22px;">Transformation Matrix</div>
                <br>
                <div style="display: flexbox;">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-00" value="1"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-01" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-02" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-03" value="0"
                        placeholder="X">
                </div>
                <div style="display: flexbox;">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-10" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-11" value="1"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-12" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-13" value="0"
                        placeholder="X">
                </div>
                <div style="display: flexbox;">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-20" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-21" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-22" value="1"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-23" value="0"
                        placeholder="X">
                </div>
                <div style="display: flexbox;">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-30" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-31" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-32" value="0"
                        placeholder="X">
                    <input class="input is-responsive is-small" style="width:20%" type="number" id="matrix-33" value="1"
                        placeholder="X">
                </div>


                <div>
                    <div class="v-datalist-title-experiment" style="font-size: 25px;">Experiment Controls</div>
                    <div class="field-div">
                        <label for="quantity" style="font-size: 22px;">Frames</label>
                        <input class="input is-responsive fields" type="number" id="frames" name="noofframes" min="1"
                            step="1" value="1000">
                    </div>

                    <div class="field-div">
                        <label for="quantity" style="font-size: 25px;font-weight: bold;">Translation Vector</label></br>
                        <span style="font-size: 25px;">x</span>:<input style="width: 25%"
                            class="input is-responsive fields" type="number" id="finalx" name="finalx" step=".1"
                            value="4">
                        <span style="font-size: 25px;">y</span>:<input style="width: 25%"
                            class="input is-responsive fields" type="number" id="finaly" name="finaly" step=".1"
                            value="2">
                        <span style="font-size: 25px;">z</span>:<input style="width: 25%"
                            class="input is-responsive fields" type="number" id="finalz" name="finalz" step=".1"
                            value="-3">
                    </div>
                </div>
            </div>

        </aside>


    </main>

    <!-- <input class="v-slider-full is-centered column exptwoslider centered-slider" id="slider" value="0" step="1" type="range"> -->
    <main class="columns is-centered is-variable is-1-mobile is-flex-wrap-wrap workspace">
        <!-- Existing content -->
        <aside class="column is-8-desktop is-10-tablet is-10-mobile exp">
            <div class="v-canvas-container" id="canvas-main">
                <!-- Three.js simulation will be here -->
                <script src="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/js/script.js"></script>
                <script type="module" src="./js/main.js"></script>
            </div>

            <div class="slider-container">
                <input class="v-slider-full is-centered column exptwoslider centered-slider" id="slider" value="0"
                    step="1" type="range">
            </div>
        </aside>


    </main>

</body>


</html>